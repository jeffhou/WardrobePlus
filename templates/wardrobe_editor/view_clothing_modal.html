<div id="view-modal" class="modal">
  <!-- Modal content -->
  <div class="modal-content view-clothing">
    <div class="form">
        <div id="view-clothing-name"></div>
        <div id="view-clothing-tags"></div>
        <div id="view-clothing-display">
          <div id="view-clothing-usage" class="view-block">
            <div id="view-clothing-display-title">Usage</div>
            <div id="view-clothing-display-content"></div>
          </div>
        </div>
      </div>
  </div>
</div>
<script>
  // Get the modal
  var view_modal = document.getElementById('view-modal');

  // When the user clicks anywhere outside of the modal, close it
  view_modal.onclick = function(event) {
      if (event.target == view_modal) {
          view_modal.style.display = "none";
          // TODO: clear tags completely
      }
  }

  $('.view-button').on("click", function() {
    $("#view-clothing-name").text($(this).parent().siblings(".clothing-name")[0].innerText);
    var tags = $(this).parent().siblings(".clothing-tags")[0].innerText.split(",");
    var tagsHTML = "";
    for (var i = 0; i < tags.length; i++) {
      tagsHTML += "<div class=\"view-modal-tag\" contenteditable=\"false\">" + tags[i] + "</div>"
    }
    $("#view-clothing-tags").html(tagsHTML);

    var usageWeek = $(this).parent().siblings(".clothing-usage").children(".clothing-usage-week").text();
    var usageMonth = $(this).parent().siblings(".clothing-usage").children(".clothing-usage-month").text();
    var usageThreeMonths = $(this).parent().siblings(".clothing-usage").children(".clothing-usage-three-months").text();
    var usageYear = $(this).parent().siblings(".clothing-usage").children(".clothing-usage-year").text();
    var usageAllTime = $(this).parent().siblings(".clothing-usage").children(".clothing-usage-all-time").text();
    var usageHTML = "";
    usageHTML += "<div class=\"data\"><div class=\"data-name\">Last Week:</div><div class=\"data-value\">" + usageWeek + "</div></div>"
    usageHTML += "<div class=\"data\"><div class=\"data-name\">Last Month:</div><div class=\"data-value\">" + usageMonth + "</div></div>"
    usageHTML += "<div class=\"data\"><div class=\"data-name\">Last 3 Months:</div><div class=\"data-value\">" + usageThreeMonths + "</div></div>"
    usageHTML += "<div class=\"data\"><div class=\"data-name\">Last Year:</div><div class=\"data-value\">" + usageYear + "</div></div>"
    usageHTML += "<div class=\"data\"><div class=\"data-name\">All Time:</div><div class=\"data-value\">" + usageAllTime + "</div></div>"
    $("#view-clothing-display-content").html(usageHTML);
    $('#view-modal').css("display", "block");
  })
</script>
